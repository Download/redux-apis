{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 690562f175babd2a414a","webpack:///./redux-apis.jsx"],"names":[],"mappings":"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","file":"redux-apis.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 690562f175babd2a414a\n **/","export class Api {\r\n\tconstructor(state = {}) {\r\n\t\tObject.defineProperties(this, {\r\n\t\t\t__actionHandlers: { value: {} },\r\n\t\t\t__state: { value:state, writable:true },\r\n\t\t\t__dispatch: { value: (action) => {\r\n\t\t\t\tif (typeof action == 'function') {return action(this.dispatch.bind(this), this.getState.bind(this));}\r\n\t\t\t\tstate = this.reducer(state, action);\r\n\t\t\t\treturn action;\r\n\t\t\t}},\r\n\t\t\t__parent: { value: undefined, writable: true },\r\n\t\t\t__link: { value: undefined, writable: true },\r\n\t\t\tconnector: { value: this.connector.bind(this) },\r\n\t\t\treducer: { value: this.reducer.bind(this) },\r\n\t\t});\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.dispatch(this.createAction('@@redux/INIT')());\r\n\t\treturn this;\r\n\t}\r\n\r\n\tdispatch(action) {\r\n\t\treturn this.__parent ? this.__parent.dispatch(action) : this.__dispatch(action);\r\n\t}\r\n\r\n\tgetState() {\r\n\t\treturn this.__parent\r\n\t\t\t? (this.__link ? this.__link(this.__parent.getState()) : this.__parent.getState())\r\n\t\t\t: this.__state;\r\n\t}\r\n\r\n\tcreateAction(actionType, payloadCreator, metaCreator) {\r\n\t\treturn this.__parent instanceof Api\r\n\t\t\t\t? this.__parent.createAction(childName(this.__parent, this) + '/' + actionType, payloadCreator, metaCreator)\r\n\t\t\t\t: createAction(actionType, payloadCreator, metaCreator);\r\n\t}\r\n\r\n\tsetHandler(actionType, handler) {\r\n\t\tthis.__actionHandlers[actionType] = handler;\r\n\t}\r\n\r\n\tclearHandler(actionType) {\r\n\t\tdelete this.__actionHandlers[actionType];\r\n\t}\r\n\r\n\tconnector(state, ownProps) {\r\n\t\treturn { ...this.getState(), ...ownProps, api:this };\r\n\t}\r\n\r\n\treducer(state, action) {\r\n\t\tconst idx = action.type.indexOf('/');\r\n\t\tconst subAction = idx !== -1 && action.type.substring(0, idx);\r\n\t\tlet result = this.__actionHandlers[action.type]\r\n\t\t\t? this.__actionHandlers[action.type].call(this, state, action)\r\n\t\t\t: (state === undefined ? this.__state : undefined);\r\n\t\tconst subs = Object.keys(this).filter(key => this[key] instanceof Api);\r\n\t\tsubs.forEach(sub => {\r\n\t\t\tconst act = sub !== subAction ? action : {...action, type:action.type.substring(idx + 1)};\r\n\t\t\tconst subResult = this[sub].reducer(this[sub].__link(state), act);\r\n\t\t\tif (state === undefined || this[sub].__link && this[sub].__link(state) === undefined || this[sub].getState() !== subResult) {\r\n\t\t\t\tif (result === undefined) {\r\n\t\t\t\t\tresult = state instanceof Array\r\n\t\t\t\t\t\t? [ ...state ]\r\n\t\t\t\t\t\t: { ...state };\r\n\t\t\t\t}\r\n\t\t\t\tthis[sub].__link(result, subResult);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this.__state = result || state;\r\n\t}\r\n}\r\nexport default Api;\r\n\r\nexport function link(parent, child, link = apiLink) {\r\n\tchild.__parent = parent;\r\n\tif (parent instanceof Api) child.__link = link.bind(child);\r\n\treturn child;\r\n}\r\n\r\nexport function onload(fn) {\r\n\treturn Component => {Component.onload = fn;\treturn Component;};\r\n}\r\n\r\nexport function load(components, params) {\r\n\treturn Promise.all(components\r\n\t\t.filter(component => component.onload)\r\n\t\t.map(component => component.onload(params))\r\n\t\t.filter(result => result instanceof Promise));\r\n}\r\n\r\nfunction apiLink(parentState, childState) {\r\n\treturn childState === undefined\r\n\t\t? (typeof parentState == 'object' && this.__parent\r\n\t\t\t? parentState[childName(this.__parent, this)]\r\n\t\t\t: parentState)\r\n\t\t: (typeof parentState == 'object' && this.__parent\r\n\t\t\t? parentState[childName(this.__parent, this)] = childState\r\n\t\t\t: childState)\r\n}\r\n\r\nfunction childName(parent, child) {\r\n\tlet names = Object.keys(parent);\r\n\tfor (let i=0,name; name=names[i]; i++) {\r\n\t\tif (parent[name] === child) return name;\r\n\t}\r\n}\r\n\r\n// stolen from https://github.com/acdlite/redux-actions/blob/v0.9.0/src/createAction.js\r\nfunction createAction(type, actionCreator, metaCreator) {\r\n  const finalActionCreator = typeof actionCreator === 'function' ? actionCreator : (t) => t;\r\n  return (...args) => {\r\n    const action = {type, payload:finalActionCreator(...args)};\r\n    if (args.length === 1 && args[0] instanceof Error) {action.error = true;}\r\n    if (typeof metaCreator === 'function') {action.meta = metaCreator(...args);}\r\n    return action;\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux-apis.jsx\n **/"],"sourceRoot":""}