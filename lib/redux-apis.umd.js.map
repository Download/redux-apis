{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f41c7542d3c8791dc953","webpack:///./redux-apis.jsx"],"names":[],"mappings":"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","file":"redux-apis.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f41c7542d3c8791dc953\n **/","export class Api {\r\n\tconstructor(state = {}) {\r\n\t\tObject.defineProperties(this, {\r\n\t\t\t__actionHandlers: { value: {} },\r\n\t\t\t__state: { value:state, writable:true },\r\n\t\t\t__dispatch: { value: (action) => {\r\n\t\t\t\tif (typeof action == 'function') {return action(this.dispatch.bind(this), this.getState.bind(this));}\r\n\t\t\t\tstate = this.reducer(state, action);\r\n\t\t\t\treturn action;\r\n\t\t\t}},\r\n\t\t\t__parent: { value: undefined, writable: true },\r\n\t\t\t__link: { value: undefined, writable: true },\r\n\t\t\tconnector: { value: this.connector.bind(this) },\r\n\t\t\treducer: { value: this.reducer.bind(this) },\r\n\t\t});\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.dispatch(this.createAction('@@redux/INIT')());\r\n\t\treturn this;\r\n\t}\r\n\r\n\tgetState() {\r\n\t\tlet state;\r\n\t\tif (this.getParent()) {\r\n\t\t\tstate = this.__link ? this.__link(this.getParent().getState()) : this.getParent().getState();\r\n\t\t}\r\n\t\treturn state !== undefined ? state : this.__state;\r\n\t}\r\n\r\n\tgetParent() {\r\n\t\treturn this.__parent;\r\n\t}\r\n\r\n\tsetHandler(actionType, handler) {\r\n\t\tthis.__actionHandlers[actionType] = handler;\r\n\t}\r\n\r\n\tgetHandler(actionType) {\r\n\t\treturn this.__actionHandlers[actionType];\r\n\t}\r\n\r\n\tclearHandler(actionType) {\r\n\t\tconst result = this.__actionHandlers[actionType];\r\n\t\tdelete this.__actionHandlers[actionType];\r\n\t\treturn result;\r\n\t}\r\n\r\n\tcreateAction(actionType, payloadCreator, metaCreator) {\r\n\t\treturn this.getParent() instanceof Api\r\n\t\t\t\t? this.getParent().createAction(name(this) + '/' + actionType, payloadCreator, metaCreator)\r\n\t\t\t\t: createAction(actionType, payloadCreator, metaCreator);\r\n\t}\r\n\r\n\tdispatch(action) {\r\n\t\treturn this.__parent ? this.__parent.dispatch(action) : this.__dispatch(action);\r\n\t}\r\n\r\n\treducer(state, action) {\r\n\t\tconst idx = action.type.indexOf('/');\r\n\t\tconst subAction = idx !== -1 && action.type.substring(0, idx);\r\n\t\tlet result = this.__actionHandlers[action.type]\r\n\t\t\t? this.__actionHandlers[action.type].call(this, state, action)\r\n\t\t\t: (state === undefined ? this.__state : undefined);\r\n\t\tconst subs = Object.keys(this).filter(key => this[key] instanceof Api);\r\n\t\tsubs.forEach(sub => {\r\n\t\t\tconst act = sub !== subAction ? action : {...action, type:action.type.substring(idx + 1)};\r\n\t\t\tconst subResult = this[sub].reducer(this[sub].__link(state), act);\r\n\t\t\tif (state === undefined || this[sub].__link && this[sub].__link(state) === undefined || this[sub].getState() !== subResult) {\r\n\t\t\t\tif (result === undefined) {\r\n\t\t\t\t\tresult = state instanceof Array\r\n\t\t\t\t\t\t? [ ...state ]\r\n\t\t\t\t\t\t: { ...state };\r\n\t\t\t\t}\r\n\t\t\t\tthis[sub].__link(result, subResult);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this.__state = result || state;\r\n\t}\r\n\r\n\tconnector(state, ownProps) {\r\n\t\treturn { ...ownProps, ...this.getState(), api:this, ...this };\r\n\t}\r\n}\r\nexport default Api;\r\n\r\nexport function link(parent, child, link = apiLink) {\r\n\tchild.__parent = parent;\r\n\tchild.__link = link.bind(child);\r\n\treturn child;\r\n}\r\n\r\nexport function apiLink(parentState, childState) {\r\n\tconst n = name(this);\r\n\treturn childState === undefined\r\n\t\t\t? (parentState !== undefined && n ? parentState[n] : parentState)\r\n\t\t\t: (n ? parentState[n] = childState : Object.assign(parentState, {...childState}));\r\n}\r\n\r\nexport function namedLink(name) {\r\n\treturn (parentState, childState) => childState === undefined\r\n\t\t\t? (parentState !== undefined ? parentState[name] : undefined)\r\n\t\t\t: parentState[name] = childState;\r\n}\r\n\r\nfunction name(child) {\r\n\tconst parent = child.getParent();\r\n\tlet names = parent ? Object.keys(parent) : [];\r\n\tfor (let i=0,name; name=names[i]; i++) {\r\n\t\tif (parent[name] === child) return name;\r\n\t}\r\n}\r\n\r\n// stolen from https://github.com/acdlite/redux-actions/blob/v0.9.0/src/createAction.js\r\nfunction createAction(type, actionCreator, metaCreator) {\r\n  const finalActionCreator = typeof actionCreator === 'function' ? actionCreator : (t) => t;\r\n  return (...args) => {\r\n    const action = {type, payload:finalActionCreator(...args)};\r\n    if (args.length === 1 && args[0] instanceof Error) {action.error = true;}\r\n    if (typeof metaCreator === 'function') {action.meta = metaCreator(...args);}\r\n    return action;\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux-apis.jsx\n **/"],"sourceRoot":""}